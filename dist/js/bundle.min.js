const $=selector=>document.querySelector(selector);const $$=selector=>document.querySelectorAll(selector);const handleScrollAnimation=()=>{$$(".js-scroll-anim").forEach(el=>{const rect=el.getBoundingClientRect();const triggerPoint=window.innerHeight*.8;if(rect.top<=triggerPoint){el.classList.add("is-visible")}})};const typeText=async(element,text,speed=50)=>{for(let char of text){element.textContent+=char;await new Promise(resolve=>setTimeout(resolve,speed))}};document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("scroll",()=>{requestAnimationFrame(handleScrollAnimation)});const heroTitle=$(".js-typing");if(heroTitle){const text=heroTitle.textContent;heroTitle.textContent="";typeText(heroTitle,text)}const form=$('form[name="contact"]');if(form){form.addEventListener("submit",async e=>{e.preventDefault();try{const formData=new FormData(form);await fetch(form.action,{method:"POST",body:formData});alert("お問い合わせを受け付けました。");form.reset()}catch(error){console.error("送信エラー:",error);alert("送信に失敗しました。時間をおいて再度お試しください。")}})}});const loadCSS=href=>{const link=document.createElement("link");Object.assign(link,{rel:"stylesheet",href:href,media:"print"});document.head.appendChild(link);requestAnimationFrame(()=>link.media="all")};document.addEventListener("DOMContentLoaded",()=>{loadCSS("/css/styles.css")});